---
title: Codeset API
---

## Introduction
The Codeset API is deployed as part of the Corolar Cloud product. The Codeset API is designed to be used in Logic App workflow and provides a set of operations designed to retrieve values from a codeset lookup table. Configuring Codeset tables can be done through Corolar’s Interface Management Portal.  

## Usage Scenarios
The Codeset API can be used for scenarios such as:
* Retrieve hospital ids by facility names
* Retrieve the environment code (Production/Staging/Dev)
* Mapping hospital or organization codes to international standards
* Mapping doctor ids to CPSO numbers

## Codeset API
The Codeset App has two main operations.
1. Lookup – Single Value
2. Lookup – Entire Row  
![codeset api operations](/img/corolar21/apiguide/codesetapi/codesetapiopsmenu.png)  

### Lookup – Single Value Operation
The following screenshot portrays a sample configuration for the Codeset API - Single Value Operation. This operation will retrieve a single value from a single column in the Codeset table by key.  
![codeset api look up by columns image](/img/corolar21/apiguide/codesetapi/codesetlookupcolm.png)  

Note, that some of the parameters in the API are pre-populated and does not require manual entry, and are abstracted away in the default view. Click on 'Add new parameters' at the bottom of the API to see the hidden fields/parameters
### Lookup – Entire Row Operation
The following screenshot portrays a sample configuration for the Codeset WS App - Entire Row Operation. This operation will retrieve the entire row (All the columns) in the Codeset table by key.  
![codeset api look up by columns image](/img/corolar21/apiguide/codesetapi/codesetlookuprow.png)  

>> Note, that some of the parameters in the API are pre-populated and does not require manual entry, and are abstracted away in the default view. Click on 'Add new parameters' at the bottom of the API to see the hidden fields/parameters  

## Parameters Listing

### Lookup – Single Value Operation
| Parameter Name                                                                                                                              | Sample/Expected Value                                                                                                                                                                                          | Parameter Description                                                                                                                              | Hidden* | 	| Parameter Name                                                                                                                              | Sample/Expected Value                                                                                                                                                                                          | Parameter Description                                                                                                                              | Hidden* | 	| Parameter Name                                                                                                                              | Sample/Expected Value                                                                                                                                                                                          | Parameter Description                                                                                                                              | Hidden* | 	| Parameter Name                                                                                                                              | Sample/Expected Value                                                                                                                                                                                          | Parameter Description                                                                                                                              | Hidden* | 
|---------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|---------| 	|---------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|---------| 	|---------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|---------| 	|---------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|---------| 
| Codeset Name                                                                                                                                | Gender_Map                                                                                                                                                                                                     | The Table Name in the Codeset Management – User Defined Tables.                                                                                    | No      | 	| Codeset Name                                                                                                                                | Gender_Map                                                                                                                                                                                                     | The Table Name in the Codeset Management – User Defined Tables.                                                                                    | No      | 	| Codeset Name                                                                                                                                | Gender_Map                                                                                                                                                                                                     | The Table Name in the Codeset Management – User Defined Tables.                                                                                    | No      | 	| Codeset Name                                                                                                                                | Gender_Map                                                                                                                                                                                                     | The Table Name in the Codeset Management – User Defined Tables.                                                                                    | No      | 
| Key                                                                                                                                         | Function (fx)                                                                                                                                                                                                  |                                                                                                                                                    |         | 	| Key                                                                                                                                         | Function (fx)                                                                                                                                                                                                  |                                                                                                                                                    |         | 	| Key                                                                                                                                         | Function (fx)                                                                                                                                                                                                  |                                                                                                                                                    |         | 	| Key                                                                                                                                         | Function (fx)                                                                                                                                                                                                  |                                                                                                                                                    |         | 
| xpath(xml(body('Disassembler_DisasmByRequest')?['Result']),'string(//*[local-name()="PID_8_AdministrativeSex"]/CWE_0_Identifier_0/text())') | This value is the uniquely identifying the key in the table. Each Codeset table can have multiple rows, and the first column of the table is Key which has a unique value to identify each row.                | No                                                                                                                                                 |         | 	| xpath(xml(body('Disassembler_DisasmByRequest')?['Result']),'string(//*[local-name()="PID_8_AdministrativeSex"]/CWE_0_Identifier_0/text())') | This value is the uniquely identifying the key in the table. Each Codeset table can have multiple rows, and the first column of the table is Key which has a unique value to identify each row.                | No                                                                                                                                                 |         | 	| xpath(xml(body('Disassembler_DisasmByRequest')?['Result']),'string(//*[local-name()="PID_8_AdministrativeSex"]/CWE_0_Identifier_0/text())') | This value is the uniquely identifying the key in the table. Each Codeset table can have multiple rows, and the first column of the table is Key which has a unique value to identify each row.                | No                                                                                                                                                 |         | 	| xpath(xml(body('Disassembler_DisasmByRequest')?['Result']),'string(//*[local-name()="PID_8_AdministrativeSex"]/CWE_0_Identifier_0/text())') | This value is the uniquely identifying the key in the table. Each Codeset table can have multiple rows, and the first column of the table is Key which has a unique value to identify each row.                | No                                                                                                                                                 |         | 
| Column Name                                                                                                                                 | FrenchDescription                                                                                                                                                                                              | Column Name value should be the header name of the column. Each table can have multiple columns and each column should have a unique header value. | No      | 	| Column Name                                                                                                                                 | FrenchDescription                                                                                                                                                                                              | Column Name value should be the header name of the column. Each table can have multiple columns and each column should have a unique header value. | No      | 	| Column Name                                                                                                                                 | FrenchDescription                                                                                                                                                                                              | Column Name value should be the header name of the column. Each table can have multiple columns and each column should have a unique header value. | No      | 	| Column Name                                                                                                                                 | FrenchDescription                                                                                                                                                                                              | Column Name value should be the header name of the column. Each table can have multiple columns and each column should have a unique header value. | No      | 
| Stage Name                                                                                                                                  | CodesetApiAppStage                                                                                                                                                                                             |                                                                                                                                                    |         | 	| Stage Name                                                                                                                                  | CodesetApiAppStage                                                                                                                                                                                             |                                                                                                                                                    |         | 	| Stage Name                                                                                                                                  | CodesetApiAppStage                                                                                                                                                                                             |                                                                                                                                                    |         | 	| Stage Name                                                                                                                                  | CodesetApiAppStage                                                                                                                                                                                             |                                                                                                                                                    |         | 
| GET HOSPITAL ID                                                                                                                             |                                                                                                                                                                                                                |                                                                                                                                                    |         | 	| GET HOSPITAL ID                                                                                                                             |                                                                                                                                                                                                                |                                                                                                                                                    |         | 	| GET HOSPITAL ID                                                                                                                             |                                                                                                                                                                                                                |                                                                                                                                                    |         | 	| GET HOSPITAL ID                                                                                                                             |                                                                                                                                                                                                                |                                                                                                                                                    |         | 
| GET DOCTOR CPSO                                                                                                                             | If a Logic App is configured to log messages at different steps, the "Stage Name" parameter can be used to distinguish messages logged at the different stages. Users can specify meaningful free text values. | No                                                                                                                                                 |         | 	| GET DOCTOR CPSO                                                                                                                             | If a Logic App is configured to log messages at different steps, the "Stage Name" parameter can be used to distinguish messages logged at the different stages. Users can specify meaningful free text values. | No                                                                                                                                                 |         | 	| GET DOCTOR CPSO                                                                                                                             | If a Logic App is configured to log messages at different steps, the "Stage Name" parameter can be used to distinguish messages logged at the different stages. Users can specify meaningful free text values. | No                                                                                                                                                 |         | 	| GET DOCTOR CPSO                                                                                                                             | If a Logic App is configured to log messages at different steps, the "Stage Name" parameter can be used to distinguish messages logged at the different stages. Users can specify meaningful free text values. | No                                                                                                                                                 |         | 
| Log Message                                                                                                                                 | Yes/No                                                                                                                                                                                                         | Logs messages to the database                                                                                                                      |         | 	| Log Message                                                                                                                                 | Yes/No                                                                                                                                                                                                         | Logs messages to the database                                                                                                                      |         | 	| Log Message                                                                                                                                 | Yes/No                                                                                                                                                                                                         | Logs messages to the database                                                                                                                      |         | 	| Log Message                                                                                                                                 | Yes/No                                                                                                                                                                                                         | Logs messages to the database                                                                                                                      |         | 
| Auto-populated with the default value as 'Yes' to log messages received/processed by an interface.                                          |                                                                                                                                                                                                                |                                                                                                                                                    |         | 	| Auto-populated with the default value as 'Yes' to log messages received/processed by an interface.                                          |                                                                                                                                                                                                                |                                                                                                                                                    |         | 	| Auto-populated with the default value as 'Yes' to log messages received/processed by an interface.                                          |                                                                                                                                                                                                                |                                                                                                                                                    |         | 	| Auto-populated with the default value as 'Yes' to log messages received/processed by an interface.                                          |                                                                                                                                                                                                                |                                                                                                                                                    |         | 
| Choose No if you prefer not to save messages                                                                                                | Yes                                                                                                                                                                                                            |                                                                                                                                                    |         | 	| Choose No if you prefer not to save messages                                                                                                | Yes                                                                                                                                                                                                            |                                                                                                                                                    |         | 	| Choose No if you prefer not to save messages                                                                                                | Yes                                                                                                                                                                                                            |                                                                                                                                                    |         | 	| Choose No if you prefer not to save messages                                                                                                | Yes                                                                                                                                                                                                            |                                                                                                                                                    |         | 
>> Hidden parameters are those that can be added/viewed in an API by clicking 'Add new parameter'
### Lookup - Entire Row Operation
| Parameter Name                                                                                     | Sample/Expected Value                                                                                                                                                                                           | Parameter Description                                                                                                                                                                  | Hidden* | 	| Parameter Name                                                                                     | Sample/Expected Value                                                                                                                                                                                           | Parameter Description                                                                                                                                                                  | Hidden* | 	| Parameter Name                                                                                     | Sample/Expected Value                                                                                                                                                                                           | Parameter Description                                                                                                                                                                  | Hidden* | 	| Parameter Name                                                                                     | Sample/Expected Value                                                                                                                                                                                           | Parameter Description                                                                                                                                                                  | Hidden* | 
|----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------| 	|----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------| 	|----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------| 	|----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------| 
| Codeset Name                                                                                       | Gender_Map                                                                                                                                                                                                      | This is the value of the Table Name in the Codeset Management – User Defined Tables.                                                                                                   | No      | 	| Codeset Name                                                                                       | Gender_Map                                                                                                                                                                                                      | This is the value of the Table Name in the Codeset Management – User Defined Tables.                                                                                                   | No      | 	| Codeset Name                                                                                       | Gender_Map                                                                                                                                                                                                      | This is the value of the Table Name in the Codeset Management – User Defined Tables.                                                                                                   | No      | 	| Codeset Name                                                                                       | Gender_Map                                                                                                                                                                                                      | This is the value of the Table Name in the Codeset Management – User Defined Tables.                                                                                                   | No      | 
| Key                                                                                                | xpath(xml(body('Disassembler_DisasmByRequest')?['Result']),'string(//*[local-name()="PID_8_AdministrativeSex"]/CWE_0_Identifier_0/text())')                                                                     | This value is uniquely identifying key in the table. Each Codeset table can have multiple rows and the first column of the table is Key which has a unique value to identify each row. | No      | 	| Key                                                                                                | xpath(xml(body('Disassembler_DisasmByRequest')?['Result']),'string(//*[local-name()="PID_8_AdministrativeSex"]/CWE_0_Identifier_0/text())')                                                                     | This value is uniquely identifying key in the table. Each Codeset table can have multiple rows and the first column of the table is Key which has a unique value to identify each row. | No      | 	| Key                                                                                                | xpath(xml(body('Disassembler_DisasmByRequest')?['Result']),'string(//*[local-name()="PID_8_AdministrativeSex"]/CWE_0_Identifier_0/text())')                                                                     | This value is uniquely identifying key in the table. Each Codeset table can have multiple rows and the first column of the table is Key which has a unique value to identify each row. | No      | 	| Key                                                                                                | xpath(xml(body('Disassembler_DisasmByRequest')?['Result']),'string(//*[local-name()="PID_8_AdministrativeSex"]/CWE_0_Identifier_0/text())')                                                                     | This value is uniquely identifying key in the table. Each Codeset table can have multiple rows and the first column of the table is Key which has a unique value to identify each row. | No      | 
| Stage Name                                                                                         | CodesetApiAppStage                                                                                                                                                                                              |                                                                                                                                                                                        |         | 	| Stage Name                                                                                         | CodesetApiAppStage                                                                                                                                                                                              |                                                                                                                                                                                        |         | 	| Stage Name                                                                                         | CodesetApiAppStage                                                                                                                                                                                              |                                                                                                                                                                                        |         | 	| Stage Name                                                                                         | CodesetApiAppStage                                                                                                                                                                                              |                                                                                                                                                                                        |         | 
| GET HOSPITAL ID                                                                                    |                                                                                                                                                                                                                 |                                                                                                                                                                                        |         | 	| GET HOSPITAL ID                                                                                    |                                                                                                                                                                                                                 |                                                                                                                                                                                        |         | 	| GET HOSPITAL ID                                                                                    |                                                                                                                                                                                                                 |                                                                                                                                                                                        |         | 	| GET HOSPITAL ID                                                                                    |                                                                                                                                                                                                                 |                                                                                                                                                                                        |         | 
| GET DOCTOR CPSO                                                                                    | If a Logic App is configured to log messages at different steps, the "Stage Name" parameter can be used to distinguish messages logged at the different stages. Users can specify meaningful free text values.  | No                                                                                                                                                                                     |         | 	| GET DOCTOR CPSO                                                                                    | If a Logic App is configured to log messages at different steps, the "Stage Name" parameter can be used to distinguish messages logged at the different stages. Users can specify meaningful free text values.  | No                                                                                                                                                                                     |         | 	| GET DOCTOR CPSO                                                                                    | If a Logic App is configured to log messages at different steps, the "Stage Name" parameter can be used to distinguish messages logged at the different stages. Users can specify meaningful free text values.  | No                                                                                                                                                                                     |         | 	| GET DOCTOR CPSO                                                                                    | If a Logic App is configured to log messages at different steps, the "Stage Name" parameter can be used to distinguish messages logged at the different stages. Users can specify meaningful free text values.  | No                                                                                                                                                                                     |         | 
| Log Message                                                                                        | Yes/No                                                                                                                                                                                                          | Logs messages to the database                                                                                                                                                          |         | 	| Log Message                                                                                        | Yes/No                                                                                                                                                                                                          | Logs messages to the database                                                                                                                                                          |         | 	| Log Message                                                                                        | Yes/No                                                                                                                                                                                                          | Logs messages to the database                                                                                                                                                          |         | 	| Log Message                                                                                        | Yes/No                                                                                                                                                                                                          | Logs messages to the database                                                                                                                                                          |         | 
| Auto-populated with the default value as 'Yes' to log messages received/processed by an interface. |                                                                                                                                                                                                                 |                                                                                                                                                                                        |         | 	| Auto-populated with the default value as 'Yes' to log messages received/processed by an interface. |                                                                                                                                                                                                                 |                                                                                                                                                                                        |         | 	| Auto-populated with the default value as 'Yes' to log messages received/processed by an interface. |                                                                                                                                                                                                                 |                                                                                                                                                                                        |         | 	| Auto-populated with the default value as 'Yes' to log messages received/processed by an interface. |                                                                                                                                                                                                                 |                                                                                                                                                                                        |         | 
| Choose No if you prefer not to save messages                                                       | Yes                                                                                                                                                                                                             |                                                                                                                                                                                        |         | 	| Choose No if you prefer not to save messages                                                       | Yes                                                                                                                                                                                                             |                                                                                                                                                                                        |         | 	| Choose No if you prefer not to save messages                                                       | Yes                                                                                                                                                                                                             |                                                                                                                                                                                        |         | 	| Choose No if you prefer not to save messages                                                       | Yes                                                                                                                                                                                                             |                                                                                                                                                                                        |         | 
| Log Exceptions                                                                                     | Yes/No                                                                                                                                                                                                          | Logs exceptions to the database.                                                                                                                                                       |         | 	| Log Exceptions                                                                                     | Yes/No                                                                                                                                                                                                          | Logs exceptions to the database.                                                                                                                                                       |         | 	| Log Exceptions                                                                                     | Yes/No                                                                                                                                                                                                          | Logs exceptions to the database.                                                                                                                                                       |         | 	| Log Exceptions                                                                                     | Yes/No                                                                                                                                                                                                          | Logs exceptions to the database.                                                                                                                                                       |         | 
>> Hidden parameters are those that can be added/viewed in an API by clicking 'Add new parameter'


## Special Usage Notes
Typically, codeset lookup service is used within XSLT transformations invoked as an external assembly using a scripting functoid. 
1. First, a reference to the Codeset assembly in the transformation project is required. This assembly will ship along with the Corolar Cloud Dev Tools.  
![special usage codeset in vs project image 1](/img/corolar21/apiguide/codesetapi/spluseimg1.png)  
 
2. Right click on the transformation file and then click on 'Call External Assembly' under Corolar Cloud options.  
![special usage codeset in vs project image 2](/img/corolar21/apiguide/codesetapi/spluseimg2.png)  

3. Choose the Codeset assembly from the first drop down in the Call External Assembly window and fill the other fields as below screenshot.  
![special usage codeset in vs project image 3](/img/corolar21/apiguide/codesetapi/spluseimg3.png)  

4. A new Script Functoid will be created in your transformation.  
![special usage codeset in vs project image 4](/img/corolar21/apiguide/codesetapi/spluseimg4.png)  

5. Below screenshot specify the parameters need for the call.  
![special usage codeset in vs project image 5](/img/corolar21/apiguide/codesetapi/spluseimg5.png)  

* Input[0] – WebService URI
* Input[1] – Codeset (Table Name)
* Input[2] – Key
* Input[3] – Column Name
* Input[4] – Default Value (This value will be returned if the Key or Codeset is not found)
* Input[5] – Use Cache (Bool)